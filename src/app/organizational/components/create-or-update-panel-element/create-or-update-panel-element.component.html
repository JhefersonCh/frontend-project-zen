<app-base-dialog>
  <section header>
    {{ data.elementData?.id ? 'Editar' : 'Agregar' }} elemento
  </section>
  <section subtitle>
    {{ getTraduction(data.elementType) }}
  </section>
  <section content>
    <form [formGroup]="form">
      <div class="row w-100 mx-0">
        <mat-form-field appearance="outline" class="col-12 mt-2">
          <mat-label>Título</mat-label>
          <input matInput type="text" formControlName="title" required />
          @if (form.get('title')?.hasError('required')) {
            <mat-error> El título es requerido </mat-error>
          }
        </mat-form-field>
      </div>
      <div class="row w-100 mx-0">
        <mat-form-field appearance="outline" class="col-12 mt-2">
          <mat-label>Descripción</mat-label>
          <textarea
            matInput
            formControlName="description"
            maxlength="2000"
          ></textarea>
          @if (form.get('description')?.hasError('required')) {
            <mat-error> La descripción es requerida </mat-error>
          }
          <mat-hint [align]="'end'"
            >{{ form.get('description')?.value?.length }}/2000</mat-hint
          >
        </mat-form-field>
      </div>
    </form>
  </section>
  <section actions class="w-100">
    <div class="row w-100 m-0 justify-content-center justify-content-md-end">
      <div class="col-6 col-md-3 px-1">
        <button
          mat-fab
          extended="true"
          color="warn"
          class="w-100"
          (click)="close()"
        >
          Cancelar
        </button>
      </div>
      <div class="col-6 col-md-3 px-1">
        <button
          mat-fab
          extended="true"
          color="primary"
          class="w-100"
          (click)="save()"
        >
          Guardar
        </button>
      </div>
    </div>
  </section>
</app-base-dialog>
